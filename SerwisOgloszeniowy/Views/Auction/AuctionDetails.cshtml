@model SerwisOgloszeniowy.Models.AuctionModels.AuctionModel
@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
}
<head>
<link rel="stylesheet" href="/css/AuctionDetails.css">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<div class="row" style="height:400px;">
    <div class="col-lg-8 mx-auto">
        <!-- List group-->
        <ul class="list-group shadow">
            <!-- list group item-->
            <li class="list-group-item">
                <!-- Custom content-->
                <div class="media align-items-lg-center flex-column flex-lg-row p-3">
                    <div class="media-body order-2 order-lg-1">
                        <h5 class="mt-0 font-weight-bold mb-2">@Model.Title</h5>
                        <p class="font-italic text-muted mb-0 small">
                            @Model.Price zł
                        </p>
                        <div class="d-flex align-items-center justify-content-between mt-1 text-break">
                            <h6 class="font-weight-bold my-2">@Model.Description</h6>
                        </div>
                        <div class="d-flex align-items-center justify-content-between mt-1">
                            <h8 class="font-weight-bold my-2" style="color: green;">Kontakt: @Model.PhoneNumber | @Model.Email</h8>
                        </div>
                        <div class="d-flex align-items-center justify-content-between mt-1">
                            <p class="font-italic text-muted mb-0 small">@Model.CreationTimestamp | @Model.City</p>
                        </div>
                        @if (@Model.UserId == (string)ViewData["UserId"] || User.IsInRole("Administrator"))
                        {
                            <form method="post" asp-action="Delete" asp-controller="Auction" class="mx-auto justify-content-center" style="display:inline-block;">
                                <button class="btn btn-primary" asp-action="DeleteAuction" asp-controller="Auction" asp-route-id='@Model.Id'>
                                    Zakończ aukcje
                                </button>
                            </form>
                            <a asp-action="EditAuction" asp-controller="Auction" asp-route-id='@Model.Id' class="btn btn-warning">Edytuj  </a>
                        }
                    </div>
                    @if (@Model.Image != null)
                    {
                        <img src="data:image;base64,@Convert.ToBase64String(@Model.Image)" width="200" height="200" class="ml-lg-5 order-1 order-lg-2">
                    }
                    else
                    {
                        <img src="https://polishtax.com/wp-content/themes/consultix/images/no-image-found-360x260.png" width="200" height="200" class="ml-lg-5 order-1 order-lg-2" />
                    }
                </div> <!-- End -->
            </li> <!-- End -->
        </ul> <!-- End -->
    </div>
</div>
